<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Soundcloud Widget Examples: Load</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.css" />
    <style>
      .ui.container {
        margin-top: 25px;
      }

      .ui.segment {
        min-width: 400px;
        max-width: 65%;
      }
    </style>
  </head>
  <body>
    <div class="ui container">
      <h1>Load</h1>
      <div class="ui left floated segment">
        <div id="loader" class="ui active inverted dimmer">
          <div class="ui text loader">Loading</div>
        </div>
        <iframe id="soundcloud" width="100%" height="300" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/4087864&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>
        <div id="loaded-message" class="ui info message hidden"></div>
        <div id="controls" class="ui form">
					<div class="grouped fields">
						<label>Options</label>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="auto_play" type="checkbox" name="auto_play">
								<label for="auto_play">Auto Play</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="buying" type="checkbox" name="buying" checked>
								<label for="buying">Show Buy Buttons</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="liking" type="checkbox" name="liking" checked>
								<label for="liking">Show Like Buttons</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="download" type="checkbox" name="download" checked>
								<label for="download">Show Download Buttons</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="sharing" type="checkbox" name="sharing" checked>
								<label for="sharing">Show Share Buttons</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="show_artwork" type="checkbox" name="show_artwork" checked>
								<label for="show_artwork">Show Artwork</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="show_comments" type="checkbox" name="show_comments" checked>
								<label for="show_comments">Show Comments</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="show_playcount" type="checkbox" name="show_playcount" checked>
								<label for="show_playcount">Show Playcount</label>
							</div>
						</div>
						<div class="field">
							<div class="ui checkbox toggle">
								<input id="show_user" type="checkbox" name="show_user" checked>
								<label for="show_user">Show User</label>
							</div>
						</div>
					</div>
					<div class="field">
            <label>Starting Track (Playlists Only)</label>
            <input id="start_track" type="number" placeholder="0">
					</div>
					<div class="field">
            <div class="ui action input">
              <input id="soundcloud-url" type="text" placeholder="Soundcloud URL">
              <button id="soundcloud-load-button" class="ui button">Search</button>
            </div>
          </div>
        </div>
      </div>
      <pre class="ui right floated tertiary segment"><code>
      var widget = new SoundcloudWidget('soundcloud')
      var button = document.getElementById('soundcloud-load-button')
      var urlInput = document.getElementById('soundcloud-url')
      var loadedMessage = document.getElementById('loaded-message')

      var auto_play = document.getElementById('auto_play')
      var buying = document.getElementById('buying')
      var liking  = document.getElementById('liking')
      var download  = document.getElementById('download')
      var sharing = document.getElementById('sharing')
      var show_artwork  = document.getElementById('show_artwork')
      var show_comments = document.getElementById('show_comments')
      var show_playcount  = document.getElementById('show_playcount')
      var show_user = document.getElementById('show_user')
      var start_track = document.getElementById('start_track')

      button.addEventListener('click', function () {
        var url = urlInput.value
        var options = {
          auto_play: auto_play.checked,
          buying: buying.checked,
          liking: liking.checked,
          download: download.checked,
          sharing: sharing.checked,
          show_artwork: show_artwork.checked,
          show_comments: show_comments.checked,
          show_playcount: show_playcount.checked,
          show_user: show_user.checked,
          start_track: Number(start_track.value)
        }
        widget.load(url, options).then(function () {
          loadedMessage.classList.remove('hidden')
          loadedMessage.innerHTML = '&lt;a href="' +
            url + '" target="_blank"&gt;Your sound&lt;a&gt; was loaded!'
          urlInput.value = ''
        })
      })

      widget.on(SoundcloudWidget.events.READY, function () {
        var container = document.getElementById('loader')
        container.classList.remove('active')
      })
    </code></pre>
    </div>

    <script src="./bundle.js"></script>
    <script>
      var widget = new SoundcloudWidget('soundcloud')
      var button = document.getElementById('soundcloud-load-button')
      var urlInput = document.getElementById('soundcloud-url')
      var loadedMessage = document.getElementById('loaded-message')

      var auto_play = document.getElementById('auto_play')
      var buying = document.getElementById('buying')
      var liking  = document.getElementById('liking')
      var download  = document.getElementById('download')
      var sharing = document.getElementById('sharing')
      var show_artwork  = document.getElementById('show_artwork')
      var show_comments = document.getElementById('show_comments')
      var show_playcount  = document.getElementById('show_playcount')
      var show_user = document.getElementById('show_user')
      var start_track = document.getElementById('start_track')

      button.addEventListener('click', function () {
        var url = urlInput.value
        var options = {
          auto_play: auto_play.checked,
          buying: buying.checked,
          liking: liking.checked,
          download: download.checked,
          sharing: sharing.checked,
          show_artwork: show_artwork.checked,
          show_comments: show_comments.checked,
          show_playcount: show_playcount.checked,
          show_user: show_user.checked,
          start_track: Number(start_track.value)
        }
        widget.load(url, options).then(function () {
          loadedMessage.classList.remove('hidden')
          loadedMessage.innerHTML = '<a href="' +
            url + '" target="_blank">Your sound</a> was loaded!'
          urlInput.value = ''
        })
      })

      widget.on(SoundcloudWidget.events.READY, function () {
        var container = document.getElementById('loader')
        container.classList.remove('active')
      })
    </script>
  </body>
</html>

